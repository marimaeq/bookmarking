{% load static %}

<!DOCTYPE html>
<html>
    <head>
        <script src="https://unpkg.com/htmx.org@1.8.6"></script>
        <link rel="stylesheet" type="text/css" href="{% static 'css/bookmark-bar.css' %}">
    </head>

    <body>
        {{ create_update_folder_url }}
        <div id="mydiv">
            <button hx-post="{{ create_folder_url }}" hx-target="#folders" hx-trigger="click" hx-swap="beforeend">New folder</button>
            <div id="folders">
                {% for object in object_list %}
                    {% include 'bookmarks/partials/folder-element.html' with obj=object %}
                {% endfor %}
            </div>
        </div>
    </body>

    <script>
        document.body.addEventListener("htmx:configRequest", (event)=>{
            event.detail.headers["X-CSRFToken"] = '{{ csrf_token }}'
        })
    </script>
</html>